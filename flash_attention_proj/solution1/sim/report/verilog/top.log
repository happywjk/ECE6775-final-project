INFO: [COSIM-47] Using XSIM for RTL simulation.
INFO: [COSIM-14] Instrumenting C test bench ...
   Build using "/opt/xilinx/Vivado/2019.2/tps/lnx64/gcc-6.2.0/bin/g++"
   Compiling flash_atten_test.cpp_pre.cpp.tb.cpp
   Compiling flash_atten.cpp_pre.cpp.tb.cpp
   Compiling apatb_top.cpp
   Generating cosim.tv.exe
INFO: [COSIM-302] Starting C TB testing ... 
INFO: [COSIM-333] Generating C post check test bench ...
INFO: [COSIM-12] Generating RTL test bench ...
INFO: [COSIM-1] *** C/RTL co-simulation file generation completed. ***
INFO: [COSIM-323] Starting verilog simulation. 
INFO: [COSIM-15] Starting XSIM ...
========================================
Flash Attention Testbench
========================================
Configuration:
  BATCH_SIZE      = 4
  CONTEXT_LENGTH  = 16
  HIDDEN_SIZE     = 64
  NUM_HEADS       = 4
  HEAD_DIM        = 16
========================================

[Step 1] Reading input data from 'input.data'...
  Successfully read 12288 input values.
  First 5 values: 1.9269 1.4873 0.9007 -2.1055 0.6784 

[Step 2] Running Flash Attention HLS design...
  Design execution completed.
  First 5 output values: 0.4508 0.0583 -0.0648 -0.6239 0.3673 

[Step 3] Writing output data to 'output.data'...
  Successfully wrote 4096 output values.

[Step 4] Checking for golden reference...
  Found 'golden.data', performing comparison...

  Comparison Results:
    Total mismatches: 0 / 4096 (0.00%)
    Max absolute error: 4.7684e-07
    Average absolute error: 4.5008e-08

  âœ“ TEST PASSED! All values match within tolerance.

========================================
Testbench completed successfully!
========================================
INFO: [XSIM 43-3496] Using init file passed via -initfile option "/opt/xilinx/Vivado/2019.2/data/xsim/ip/xsim_ip.ini".
Vivado Simulator 2019.2
Copyright 1986-1999, 2001-2019 Xilinx, Inc. All Rights Reserved.
Running: /opt/xilinx/Vivado/2019.2/bin/unwrapped/lnx64.o/xelab xil_defaultlib.apatb_top_top glbl -prj top.prj -L smartconnect_v1_0 -L axi_protocol_checker_v1_1_12 -L axi_protocol_checker_v1_1_13 -L axis_protocol_checker_v1_1_11 -L axis_protocol_checker_v1_1_12 -L xil_defaultlib -L unisims_ver -L xpm --initfile /opt/xilinx/Vivado/2019.2/data/xsim/ip/xsim_ip.ini --lib ieee_proposed=./ieee_proposed -s top 
Multi-threading is on. Using 6 slave threads.
Determining compilation order of HDL files.
INFO: [VRFC 10-2263] Analyzing SystemVerilog file "/home/wl764/ece6775/ECE6775-final-project/flash_attention_proj/solution1/sim/verilog/glbl.v" into library work
INFO: [VRFC 10-311] analyzing module glbl
INFO: [VRFC 10-2263] Analyzing SystemVerilog file "/home/wl764/ece6775/ECE6775-final-project/flash_attention_proj/solution1/sim/verilog/top.autotb.v" into library xil_defaultlib
INFO: [VRFC 10-311] analyzing module apatb_top_top
INFO: [VRFC 10-2263] Analyzing SystemVerilog file "/home/wl764/ece6775/ECE6775-final-project/flash_attention_proj/solution1/sim/verilog/AESL_automem_input_data.v" into library xil_defaultlib
INFO: [VRFC 10-311] analyzing module AESL_automem_input_data
INFO: [VRFC 10-2263] Analyzing SystemVerilog file "/home/wl764/ece6775/ECE6775-final-project/flash_attention_proj/solution1/sim/verilog/AESL_automem_output_data.v" into library xil_defaultlib
INFO: [VRFC 10-311] analyzing module AESL_automem_output_data
INFO: [VRFC 10-2263] Analyzing SystemVerilog file "/home/wl764/ece6775/ECE6775-final-project/flash_attention_proj/solution1/sim/verilog/load_and_rearrange_q.v" into library xil_defaultlib
INFO: [VRFC 10-311] analyzing module load_and_rearrange_q
INFO: [VRFC 10-2263] Analyzing SystemVerilog file "/home/wl764/ece6775/ECE6775-final-project/flash_attention_proj/solution1/sim/verilog/compute_attention.v" into library xil_defaultlib
INFO: [VRFC 10-311] analyzing module compute_attention
INFO: [VRFC 10-2263] Analyzing SystemVerilog file "/home/wl764/ece6775/ECE6775-final-project/flash_attention_proj/solution1/sim/verilog/store_output.v" into library xil_defaultlib
INFO: [VRFC 10-311] analyzing module store_output
INFO: [VRFC 10-2263] Analyzing SystemVerilog file "/home/wl764/ece6775/ECE6775-final-project/flash_attention_proj/solution1/sim/verilog/top.v" into library xil_defaultlib
INFO: [VRFC 10-311] analyzing module top
INFO: [VRFC 10-2263] Analyzing SystemVerilog file "/home/wl764/ece6775/ECE6775-final-project/flash_attention_proj/solution1/sim/verilog/top_faddfsub_32nsbkb.v" into library xil_defaultlib
INFO: [VRFC 10-311] analyzing module top_faddfsub_32nsbkb
INFO: [VRFC 10-2263] Analyzing SystemVerilog file "/home/wl764/ece6775/ECE6775-final-project/flash_attention_proj/solution1/sim/verilog/top_fadd_32ns_32ncud.v" into library xil_defaultlib
INFO: [VRFC 10-311] analyzing module top_fadd_32ns_32ncud
INFO: [VRFC 10-2263] Analyzing SystemVerilog file "/home/wl764/ece6775/ECE6775-final-project/flash_attention_proj/solution1/sim/verilog/top_fmul_32ns_32ndEe.v" into library xil_defaultlib
INFO: [VRFC 10-311] analyzing module top_fmul_32ns_32ndEe
INFO: [VRFC 10-2263] Analyzing SystemVerilog file "/home/wl764/ece6775/ECE6775-final-project/flash_attention_proj/solution1/sim/verilog/top_fdiv_32ns_32neOg.v" into library xil_defaultlib
INFO: [VRFC 10-311] analyzing module top_fdiv_32ns_32neOg
INFO: [VRFC 10-2263] Analyzing SystemVerilog file "/home/wl764/ece6775/ECE6775-final-project/flash_attention_proj/solution1/sim/verilog/top_fcmp_32ns_32nfYi.v" into library xil_defaultlib
INFO: [VRFC 10-311] analyzing module top_fcmp_32ns_32nfYi
INFO: [VRFC 10-2263] Analyzing SystemVerilog file "/home/wl764/ece6775/ECE6775-final-project/flash_attention_proj/solution1/sim/verilog/top_fexp_32ns_32ng8j.v" into library xil_defaultlib
INFO: [VRFC 10-311] analyzing module top_fexp_32ns_32ng8j
INFO: [VRFC 10-2263] Analyzing SystemVerilog file "/home/wl764/ece6775/ECE6775-final-project/flash_attention_proj/solution1/sim/verilog/top_mux_42_32_1_1.v" into library xil_defaultlib
INFO: [VRFC 10-311] analyzing module top_mux_42_32_1_1
INFO: [VRFC 10-2263] Analyzing SystemVerilog file "/home/wl764/ece6775/ECE6775-final-project/flash_attention_proj/solution1/sim/verilog/top_mux_164_32_1_1.v" into library xil_defaultlib
INFO: [VRFC 10-311] analyzing module top_mux_164_32_1_1
INFO: [VRFC 10-2263] Analyzing SystemVerilog file "/home/wl764/ece6775/ECE6775-final-project/flash_attention_proj/solution1/sim/verilog/top_Q_0.v" into library xil_defaultlib
INFO: [VRFC 10-311] analyzing module top_Q_0_ram
INFO: [VRFC 10-311] analyzing module top_Q_0
INFO: [VRFC 10-2263] Analyzing SystemVerilog file "/home/wl764/ece6775/ECE6775-final-project/flash_attention_proj/solution1/sim/verilog/top_V_0.v" into library xil_defaultlib
INFO: [VRFC 10-311] analyzing module top_V_0_ram
INFO: [VRFC 10-311] analyzing module top_V_0
INFO: [VRFC 10-2263] Analyzing SystemVerilog file "/home/wl764/ece6775/ECE6775-final-project/flash_attention_proj/solution1/sim/verilog/top_OUT_0.v" into library xil_defaultlib
INFO: [VRFC 10-311] analyzing module top_OUT_0_ram
INFO: [VRFC 10-311] analyzing module top_OUT_0
INFO: [VRFC 10-163] Analyzing VHDL file "/home/wl764/ece6775/ECE6775-final-project/flash_attention_proj/solution1/sim/verilog/ip/xil_defaultlib/top_ap_faddfsub_3_full_dsp_32.vhd" into library xil_defaultlib
INFO: [VRFC 10-3107] analyzing entity 'top_ap_faddfsub_3_full_dsp_32'
INFO: [VRFC 10-163] Analyzing VHDL file "/home/wl764/ece6775/ECE6775-final-project/flash_attention_proj/solution1/sim/verilog/ip/xil_defaultlib/top_ap_fadd_3_full_dsp_32.vhd" into library xil_defaultlib
INFO: [VRFC 10-3107] analyzing entity 'top_ap_fadd_3_full_dsp_32'
INFO: [VRFC 10-163] Analyzing VHDL file "/home/wl764/ece6775/ECE6775-final-project/flash_attention_proj/solution1/sim/verilog/ip/xil_defaultlib/top_ap_fmul_2_max_dsp_32.vhd" into library xil_defaultlib
INFO: [VRFC 10-3107] analyzing entity 'top_ap_fmul_2_max_dsp_32'
INFO: [VRFC 10-163] Analyzing VHDL file "/home/wl764/ece6775/ECE6775-final-project/flash_attention_proj/solution1/sim/verilog/ip/xil_defaultlib/top_ap_fdiv_14_no_dsp_32.vhd" into library xil_defaultlib
INFO: [VRFC 10-3107] analyzing entity 'top_ap_fdiv_14_no_dsp_32'
INFO: [VRFC 10-163] Analyzing VHDL file "/home/wl764/ece6775/ECE6775-final-project/flash_attention_proj/solution1/sim/verilog/ip/xil_defaultlib/top_ap_fcmp_0_no_dsp_32.vhd" into library xil_defaultlib
INFO: [VRFC 10-3107] analyzing entity 'top_ap_fcmp_0_no_dsp_32'
INFO: [VRFC 10-163] Analyzing VHDL file "/home/wl764/ece6775/ECE6775-final-project/flash_attention_proj/solution1/sim/verilog/ip/xil_defaultlib/top_ap_fexp_6_med_dsp_32.vhd" into library xil_defaultlib
INFO: [VRFC 10-3107] analyzing entity 'top_ap_fexp_6_med_dsp_32'
Starting static elaboration
Pass Through NonSizing Optimizer
WARNING: [VRFC 10-3499] library name 'floating_point_v7_1_9' of instantiated unit conflicts with visible identifier [ip/xil_defaultlib/top_ap_faddfsub_3_full_dsp_32.vhd:206]
WARNING: [VRFC 10-3499] library name 'floating_point_v7_1_9' of instantiated unit conflicts with visible identifier [ip/xil_defaultlib/top_ap_fadd_3_full_dsp_32.vhd:201]
WARNING: [VRFC 10-3499] library name 'floating_point_v7_1_9' of instantiated unit conflicts with visible identifier [ip/xil_defaultlib/top_ap_fmul_2_max_dsp_32.vhd:201]
WARNING: [VRFC 10-3499] library name 'floating_point_v7_1_9' of instantiated unit conflicts with visible identifier [ip/xil_defaultlib/top_ap_fdiv_14_no_dsp_32.vhd:201]
WARNING: [VRFC 10-3499] library name 'floating_point_v7_1_9' of instantiated unit conflicts with visible identifier [ip/xil_defaultlib/top_ap_fcmp_0_no_dsp_32.vhd:200]
WARNING: [VRFC 10-3499] library name 'floating_point_v7_1_9' of instantiated unit conflicts with visible identifier [ip/xil_defaultlib/top_ap_fexp_6_med_dsp_32.vhd:196]
Completed static elaboration
ERROR: [XSIM 43-3316] Signal SIGSEGV received.
Printing stacktrace...

[0] /opt/xilinx/Vivado/2019.2/lib/lnx64.o/Default/libstdc++.so.6(std::_Rb_tree_increment(std::_Rb_tree_node_base const*)+0x22) [0x7f8e41ec0b82]
[1] /opt/xilinx/Vivado/2019.2/bin/unwrapped/lnx64.o/xelab() [0x773ab8]
[2] /opt/xilinx/Vivado/2019.2/bin/unwrapped/lnx64.o/xelab() [0x734aa2]
[3] /opt/xilinx/Vivado/2019.2/bin/unwrapped/lnx64.o/xelab() [0x73502e]
[4] /opt/xilinx/Vivado/2019.2/bin/unwrapped/lnx64.o/xelab() [0x7353f1]
[5] /opt/xilinx/Vivado/2019.2/bin/unwrapped/lnx64.o/xelab() [0x7351e0]
[6] /opt/xilinx/Vivado/2019.2/bin/unwrapped/lnx64.o/xelab() [0x7351e0]
[7] /opt/xilinx/Vivado/2019.2/bin/unwrapped/lnx64.o/xelab() [0x7351e0]
[8] /opt/xilinx/Vivado/2019.2/bin/unwrapped/lnx64.o/xelab() [0x7351e0]
[9] /opt/xilinx/Vivado/2019.2/bin/unwrapped/lnx64.o/xelab() [0x7345e6]
[10] /opt/xilinx/Vivado/2019.2/bin/unwrapped/lnx64.o/xelab() [0x73502e]
[11] /opt/xilinx/Vivado/2019.2/bin/unwrapped/lnx64.o/xelab() [0x63b938]
[12] /opt/xilinx/Vivado/2019.2/lib/lnx64.o/libxsimverific.so(Verific::VeriVisitor::TraverseArray(Verific::Array const*)+0x86) [0x7f8e4317bd56]
[13] /opt/xilinx/Vivado/2019.2/lib/lnx64.o/libxsimverific.so(Verific::VeriVisitor::Visit(Verific::VeriModule&)+0x98) [0x7f8e43182698]
[14] /opt/xilinx/Vivado/2019.2/bin/unwrapped/lnx64.o/xelab() [0x63d102]
[15] /opt/xilinx/Vivado/2019.2/bin/unwrapped/lnx64.o/xelab() [0x605ccb]
[16] /opt/xilinx/Vivado/2019.2/bin/unwrapped/lnx64.o/xelab() [0x63b542]
[17] /opt/xilinx/Vivado/2019.2/lib/lnx64.o/libxsimverific.so(Verific::VeriVisitor::TraverseArray(Verific::Array const*)+0x86) [0x7f8e4317bd56]
[18] /opt/xilinx/Vivado/2019.2/lib/lnx64.o/libxsimverific.so(Verific::VeriVisitor::Visit(Verific::VeriModule&)+0x98) [0x7f8e43182698]
[19] /opt/xilinx/Vivado/2019.2/bin/unwrapped/lnx64.o/xelab() [0x63d102]
[20] /opt/xilinx/Vivado/2019.2/bin/unwrapped/lnx64.o/xelab() [0x605ccb]
[21] /opt/xilinx/Vivado/2019.2/bin/unwrapped/lnx64.o/xelab() [0x63b542]
[22] /opt/xilinx/Vivado/2019.2/lib/lnx64.o/libxsimverific.so(Verific::VeriVisitor::TraverseArray(Verific::Array const*)+0x86) [0x7f8e4317bd56]
[23] /opt/xilinx/Vivado/2019.2/lib/lnx64.o/libxsimverific.so(Verific::VeriVisitor::Visit(Verific::VeriModule&)+0x98) [0x7f8e43182698]
[24] /opt/xilinx/Vivado/2019.2/bin/unwrapped/lnx64.o/xelab() [0x63d102]
[25] /opt/xilinx/Vivado/2019.2/bin/unwrapped/lnx64.o/xelab() [0x605ccb]
[26] /opt/xilinx/Vivado/2019.2/bin/unwrapped/lnx64.o/xelab() [0x63b542]
[27] /opt/xilinx/Vivado/2019.2/lib/lnx64.o/libxsimverific.so(Verific::VeriVisitor::TraverseArray(Verific::Array const*)+0x86) [0x7f8e4317bd56]
[28] /opt/xilinx/Vivado/2019.2/lib/lnx64.o/libxsimverific.so(Verific::VeriVisitor::Visit(Verific::VeriModule&)+0x98) [0x7f8e43182698]
[29] /opt/xilinx/Vivado/2019.2/bin/unwrapped/lnx64.o/xelab() [0x63d102]
[30] /opt/xilinx/Vivado/2019.2/bin/unwrapped/lnx64.o/xelab() [0x605ccb]
[31] /opt/xilinx/Vivado/2019.2/bin/unwrapped/lnx64.o/xelab() [0x491cb4]
[32] /opt/xilinx/Vivado/2019.2/bin/unwrapped/lnx64.o/xelab() [0x4764b2]
[33] /opt/xilinx/Vivado/2019.2/bin/unwrapped/lnx64.o/xelab() [0x480253]
[34] /opt/xilinx/Vivado/2019.2/bin/unwrapped/lnx64.o/xelab() [0x45241d]
[35] /lib64/libc.so.6(__libc_start_main+0xe5) [0x7f8e414e67e5]
[36] /opt/xilinx/Vivado/2019.2/bin/unwrapped/lnx64.o/xelab() [0x46a3d0]

Done
ERROR: Please check the snapshot name which is created during 'xelab',the current snapshot name "xsim.dir/top/xsimk" does not exist 
ERROR: [COSIM-4] *** C/RTL co-simulation finished: FAIL ***
INFO: [COSIM-211] II is measurable only when transaction number is greater than 1 in RTL simulation. Otherwise, they will be marked as all NA. If user wants to calculate them, please make sure there are at least 2 transactions in RTL simulation.
